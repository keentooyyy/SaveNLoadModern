import{d as _,e as v,g as n,i as r,k as g,o as w,l as d,b as l,q as b,p as t,s as y,z as h}from"./islands-BZEcu5Tg.js";import{u as S,_ as x,a as E}from"./useAuthConfig-Cbw7dd8t.js";import{_ as V,a as A}from"./InputLabel.vue_vue_type_script_setup_true_lang-zTz6K1Md.js";import{_ as C}from"./TextInput.vue_vue_type_script_setup_true_lang-Bza2zB90.js";import"./BaseLink.vue_vue_type_script_setup_true_lang-Dv09fmhI.js";import"./BaseInput.vue_vue_type_script_setup_true_lang-DuTyusce.js";const N={class:"mb-3"},$={class:"d-grid"},k=_({__name:"ForgotPasswordPage",setup(P){const e=v(),o=n(""),u=r(()=>e.loading),m=r(()=>e.fieldErrors),s=n(!1),i=r(()=>u.value||s.value);S({requireEmailFlow:!0,loadAuthConfig:()=>e.loadAuthConfig()});const c=()=>{e.resetStatus()},f=async()=>{if(!i.value){s.value=!0;try{await e.forgotPassword({email:o.value}),window.location.assign("/verify-otp")}catch{}finally{s.value=!1}}};return(q,a)=>(w(),g(E,{title:"Save N Load",subtitle:"Reset your password to regain access.","on-reset":c},{default:d(()=>[l("form",{onSubmit:b(f,["prevent"])},[l("div",N,[t(V,{text:"EMAIL"}),t(C,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=p=>o.value=p),type:"email",placeholder:"Enter your email",invalid:!!m.value?.email,required:""},null,8,["modelValue","invalid"])]),l("div",$,[t(A,{type:"submit",variant:"secondary",class:"text-white fw-bold mt-3 py-2",disabled:i.value,loading:i.value},{default:d(()=>[...a[1]||(a[1]=[y(" SEND OTP ",-1)])]),_:1},8,["disabled","loading"])]),t(x,{prefix:"Remember your password? ","link-text":"Login",to:"/"})],32)]),_:1}))}});h("forgot-password",k);
