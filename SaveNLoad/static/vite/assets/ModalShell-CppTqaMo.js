import{d as S,g as B,i as C,j as E,B as M,k as $,o as n,T as _,c as f,a as u,q as T,H as y,n as i,b as p,r}from"./islands-CvRdAtFP.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L=["aria-labelledby"],j={class:"modal-content modal-shell"},z=S({__name:"ModalShell",props:{open:{type:Boolean,default:!1},show:{type:Boolean,default:void 0},labelledBy:{type:String,default:""},modalClass:{type:String,default:""},backdropClass:{type:String,default:""},dialogClass:{type:String,default:""},dialogStyle:{type:[String,Object],default:""}},emits:["backdrop"],setup(o,{expose:b,emit:w}){const s=()=>{const e=window;return e.__snl_modal_stack||(e.__snl_modal_stack=[]),e.__snl_modal_stack},t=o,h=w,c=B(null),l=`modal_${Math.random().toString(36).slice(2,9)}`,m=C(()=>t.show===void 0?t.open:t.show),v=()=>{const e=s();e.includes(l)||e.push(l)},k=()=>{const e=s(),a=e.indexOf(l);a!==-1&&e.splice(a,1)},g=()=>{const e=s();return e[e.length-1]===l},d=e=>{e.key==="Escape"&&g()&&(e.stopPropagation(),h("backdrop"))};return E(()=>t.open,e=>{e?(v(),window.addEventListener("keydown",d)):(k(),window.removeEventListener("keydown",d))},{immediate:!0}),M(()=>{k(),window.removeEventListener("keydown",d)}),b({modalEl:c}),(e,a)=>(n(),$(_,{to:"body"},[o.open?(n(),f("div",{key:0,ref_key:"modalEl",ref:c,class:i(["modal fade modal-shell-root",[o.modalClass,{show:m.value,"d-block":o.open}]]),tabindex:"-1",role:"dialog","aria-modal":"true","aria-labelledby":o.labelledBy,style:y({display:o.open?"block":"none"}),onClick:a[0]||(a[0]=T(I=>e.$emit("backdrop"),["self"]))},[p("div",{class:i(["modal-dialog modal-dialog-centered",o.dialogClass]),style:y(o.dialogStyle)},[p("div",j,[r(e.$slots,"header",{},void 0,!0),r(e.$slots,"body",{},void 0,!0),r(e.$slots,"footer",{},void 0,!0)])],6)],14,L)):u("",!0),o.open?(n(),f("div",{key:1,class:i(["modal-backdrop fade modal-shell-backdrop",[o.backdropClass,{show:m.value}]])},null,2)):u("",!0)]))}}),V=x(z,[["__scopeId","data-v-8715a23a"]]);export{V as M};
