import{d as _,e as v,h as g,i as d,g as S,k as P,o as b,l as m,b as t,q as h,p as o,s as V,z as x}from"./islands-BZEcu5Tg.js";import{u as y,_ as A,a as C}from"./useAuthConfig-Cbw7dd8t.js";import{_ as u}from"./PasswordField.vue_vue_type_script_setup_true_lang-BaWLSgih.js";import{_ as w,a as E}from"./InputLabel.vue_vue_type_script_setup_true_lang-zTz6K1Md.js";import"./BaseLink.vue_vue_type_script_setup_true_lang-Dv09fmhI.js";import"./BaseInput.vue_vue_type_script_setup_true_lang-DuTyusce.js";const R={class:"mb-3"},N={class:"mb-3"},$={class:"d-grid"},k=_({__name:"ResetPasswordPage",setup(O){const a=v(),s=g({newPassword:"",confirmPassword:""}),f=d(()=>a.loading),l=d(()=>a.fieldErrors),r=S(!1),i=d(()=>f.value||r.value);y({requireEmailFlow:!0,loadAuthConfig:()=>a.loadAuthConfig()});const c=()=>{a.resetStatus()},p=async()=>{if(!i.value){r.value=!0;try{await a.resetPassword({new_password:s.newPassword,confirm_password:s.confirmPassword}),window.location.assign("/")}catch{}finally{r.value=!1}}};return(W,e)=>(b(),P(C,{title:"Save N Load",subtitle:"Set your new password.","on-reset":c},{default:m(()=>[t("form",{onSubmit:h(p,["prevent"])},[t("div",R,[o(w,{text:"NEW PASSWORD"}),o(u,{modelValue:s.newPassword,"onUpdate:modelValue":e[0]||(e[0]=n=>s.newPassword=n),placeholder:"Enter new password",invalid:!!l.value?.new_password},null,8,["modelValue","invalid"])]),t("div",N,[o(w,{text:"CONFIRM PASSWORD"}),o(u,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[1]||(e[1]=n=>s.confirmPassword=n),placeholder:"Confirm new password",invalid:!!l.value?.confirm_password},null,8,["modelValue","invalid"])]),t("div",$,[o(E,{type:"submit",variant:"secondary",class:"text-white fw-bold mt-3 py-2",disabled:i.value,loading:i.value},{default:m(()=>[...e[2]||(e[2]=[V(" RESET PASSWORD ",-1)])]),_:1},8,["disabled","loading"])]),o(A,{prefix:"Remember your password? ","link-text":"Login",to:"/login"})],32)]),_:1}))}});x("reset-password",k);
